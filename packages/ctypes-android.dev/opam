opam-version: "1"
maintainer: "whitequark@whitequark.org"
homepage: "https://github.com/ocamllabs/ocaml-ctypes"
license: "MIT"
patches: [
  "patches/complex.patch"
]
build: [
  [make "libffi-abigen" "configure"]
  ["cp" "src/ctypes/ctypes_primitives.ml.template" "src/ctypes/ctypes_primitives.ml"]
  ["env" "OCAMLFIND_TOOLCHAIN=android" make "ctypes-stubs"]
  ["env" "OCAMLFIND_TOOLCHAIN=android" make "install"]
]
remove: [
  ["ocamlfind" "-toolchain" "android" "remove" "ctypes"]
]
depends: [ "base-bytes" "ocamlfind" "ocaml-android" ]
tags: ["org:ocamllabs" "org:mirage"]
ocaml-version: [ >= "4.00.0" ]
messages: [
  "ctypes-android only includes support for cstubs, i.e. no libffi"
]
